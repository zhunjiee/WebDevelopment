<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			* {
				margin: 0;
				padding: 0;
			}
			input {
				margin-top: 20px;
			}
			
			#dv {
				margin-top: 30px;
				width: 200px;
				height: 100px;
				background-color: #00A4FF;
				position: absolute;
			}
		</style>
	</head>
	<body>
		<input type="button" value="移动到400px" id="btn1" />
		<input type="button" value="移动到800px" id="btn2" />
		<div id="dv"></div>
		
		
		<script type="text/javascript">
			var dv = document.getElementById('dv');
			document.getElementById('btn1').onclick = function() {
				var timeId = setInterval(function() {
					var current = dv.offsetLeft;
					var step = 5;
					current += step;
					if(current <= 400) {
						dv.style.left = current + 'px';
					} else{
						clearInterval(timeId);
					}
				}, 20);
			};
			
// 			document.getElementById('btn2').onclick = function() {
// 				var timeId = setInterval(function() {
// 					var current = dv.offsetLeft;
// 					var step = 10;
// 					current += step;
// 					if(current <= 800) {
// 						dv.style.left = current + 'px';
// 					} else{
// 						clearInterval(timeId);
// 					}
// 				}, 20);
// 			}
			document.getElementById('btn2').onclick = function() {
				animate(dv, 800);
			}
			
			// 封装动画函数
			function animate(element, target) {
				var timeId = setInterval(function() {
					var current = element.offsetLeft;
					var step = 10;
					current += step;
					if(current <= target) {
						element.style.left = current + 'px';
					} else{
						clearInterval(timeId);
					}
				}, 20);
			}
		</script>
	</body>
</html>
